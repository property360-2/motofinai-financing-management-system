{% load static %}
<!DOCTYPE html>
<html lang="en" class="h-full bg-slate-50">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}MotofinAI{% endblock title %}</title>
    <link rel="stylesheet" href="{% static 'css/dist/styles.css' %}" />
    {% block head_extras %}{% endblock head_extras %}
  </head>
  <body class="min-h-full font-sans text-slate-900">
    <div class="min-h-screen flex flex-col">
      {% include 'components/atoms/skip_link.html' %}
      <header class="border-b border-slate-200 bg-white">
        <div class="mx-auto flex w-full max-w-5xl items-center justify-between px-4 py-4">
          <a href="{% url 'home' %}" class="text-lg font-semibold text-slate-900">MotofinAI</a>
          <nav class="flex items-center gap-4 text-sm">
            {% if request.user.is_authenticated %}
              <div class="hidden items-center gap-4 text-slate-600 sm:flex">
                {% if request.user.is_superuser or request.user.role == "admin" or request.user.role == "finance" %}
                  <a
                    href="{% url 'inventory:motor-list' %}"
                    class="font-medium text-slate-600 transition hover:text-sky-700"
                  >
                    Inventory
                  </a>
                  <a
                    href="{% url 'terms:list' %}"
                    class="font-medium text-slate-600 transition hover:text-sky-700"
                  >
                    Financing terms
                  </a>
                {% endif %}
              </div>
              <span class="hidden text-slate-500 sm:inline-flex">
                Signed in as {{ request.user.get_full_name|default:request.user.username }}
              </span>
              <a
                href="{% url 'users:logout' %}"
                class="font-medium text-sky-600 transition hover:text-sky-700"
                >Sign out</a
              >
            {% else %}
              <a
                href="{% url 'users:login' %}"
                class="font-medium text-sky-600 transition hover:text-sky-700"
                >Sign in</a
              >
            {% endif %}
          </nav>
        </div>
      </header>
      {% if messages %}
        <div class="border-b border-sky-100 bg-sky-50">
          <div class="mx-auto max-w-5xl px-4 py-3 text-sm text-sky-900">
            <ul class="space-y-1">
              {% for message in messages %}
                <li>{{ message }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
      {% endif %}
      <main id="main-content" class="flex-1">
        {% block content %}{% endblock content %}
      </main>
      <footer class="py-6 text-center text-xs text-slate-500">
        {% block footer %}
        &copy; {% now 'Y' %} MotofinAI. All rights reserved.
        {% endblock footer %}
      </footer>
    </div>
    {% block scripts %}{% endblock scripts %}
  </body>
</html>
